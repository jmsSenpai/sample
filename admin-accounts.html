<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts</title> 
    <link rel="stylesheet" href="Styles/Pages/admin-accounts.css"> 
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div id="nav-bar">
        <input id="nav-toggle" type="checkbox"/>
        <div id="nav-header">
            <div id="nav-logo-container">
              <a id="nav-title" target="_blank">
                <img src="images/client-logo.png" alt="Lost & Found Logo" id="nav-logo">
                Lost & Found
              </a>
            </div>
            <label for="nav-toggle"><span id="nav-toggle-burger"></span></label>
            <hr/>
          </div>
        <div id="nav-content">
            <a href="Admin-dashboard.html"> 
                <div class="nav-button"><img src="images/dashboard.png" alt=""><span>Dashboard</span></div>
            </a>
            <a href="admin-lost.html"> 
                <div class="nav-button"><img src="images/lost item.png" alt=""><span>Lost Items</span></div>
            </a>
            <a href="admin-Found.html">
                <div class="nav-button"><img src="images/found item.png" alt=""><span>Found Items</span></div>
            </a>
            <a href="admin-match.html"> 
                <div class="nav-button"><img src="images/matched.png" alt=""><span>Matched Items</span></div>
            </a>
            <a href="Admin-Report-Item.html">  
                <div class="nav-button "><img src="images/item report.png" alt=""><span>Report An Item</span></div>
            </a>
            <a href="Admin-reports.html">  
                <div class="nav-button "><img src="images/report.png" alt=""><span>Reports</span></div>
            </a>
            <a href="admin-accounts.html">  
                <div class="nav-button active"><img src="images/admin acc.png" alt=""><span>Accounts</span></div>
            </a>
        
          <hr/>
          <div class="nav-button" id="logout-btn">
            <img src="images/logout.png" alt=""><span>Logout</span>
        </div>
          <div id="nav-content-highlight"></div>
        </div>
        <input id="nav-footer-toggle" type="checkbox"/>
        <div id="nav-footer">
            <div id="nav-footer-heading">
              <div id="nav-footer-avatar"><img src="images/admin acc.png"/></div>
              <div id="nav-footer-titlebox"><a id="nav-footer-title" >uahnbu</a><span id="nav-footer-subtitle">Admin</span></div>           
            </div>
          </div>
      </div>

    <div class="accounts-content"> 
        <h1 class="title">Accounts</h1>
        <div class="accounts-list"> 
            <div class="account">
                <a href="admin-accept-student.html">
                <div class="account-image"><img src="images/student.png" alt=""></div> 
                <div class="account-details">
                    <h2>Student Accounts</h2>
                </div>
            </a>
            </div>
            <div class="account">
                <a href="admin-adminAccount.html">
                <div class="account-image"><img src="images/settings.png" alt=""></div> 
                <div class="account-details">
                    <h2>Admin Accounts</h2>
                </div>
                </a>
            </div>
        </div>
    </div>

    <script>
        if (!localStorage.getItem("loggedInAdmin")) {
    window.location.href = "admin-login.html";
}

function toggleMenu() {
    let sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("collapsed");
}

function openModal(modalId) {
    document.getElementById(modalId).style.display = "block";
}

function closeModal(modalId) {
    document.getElementById(modalId).style.display = "none";
}

document.addEventListener("DOMContentLoaded", function () {
    console.log("Page loaded, initializing...");
    const loggedInAdminUsername = localStorage.getItem("loggedInAdmin");

    if (loggedInAdminUsername) {
        const adminData = JSON.parse(localStorage.getItem(loggedInAdminUsername));
        if (adminData && adminData.accountType === 'admin') {
            const fullName = `${adminData.firstName}`;
            const navFooterTitle = document.getElementById("nav-footer-title");
            if (navFooterTitle) {
                navFooterTitle.textContent = fullName;
                navFooterTitle.href = "#";
            }
        }
    }

    const logoutButton = document.getElementById("logout-btn");
    if (logoutButton) {
        logoutButton.addEventListener("click", function () {
            // Show SweetAlert2 confirmation dialog
            Swal.fire({
                title: "Are you sure?",
                text: "Do you want to log out?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#d33",
                cancelButtonColor: "#3085d6",
                confirmButtonText: "Yes, log out",
                cancelButtonText: "Cancel",
              
            }).then((result) => {
                if (result.isConfirmed) {
                    console.log("Logout confirmed, proceeding...");
                    document.body.classList.add("fade-out");
                    setTimeout(function () {
                        localStorage.removeItem("loggedInAdmin");
                        const inputs = document.querySelectorAll("input");
                        inputs.forEach(input => input.value = "");
                        window.location.href = "admin-login.html";
                    }, 1000);
                } else {
                    console.log("Logout cancelled by user.");
                }
            });
        });
    }
});
    </script>
</body>
</html>